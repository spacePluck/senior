# 생활환경(住) 모듈 - 상세 기획서

> **목표**: 안전하고 쾌적한 생활 환경을 유지하도록 지원

---

## 📋 목차

1. [청소 서비스](#1-청소-서비스)
2. [집 수리 & 유지보수](#2-집-수리--유지보수)
3. [안전 점검](#3-안전-점검)
4. [스마트홈 연동](#4-스마트홈-연동)

---

## 1. 청소 서비스

### 1.1 개요
**목적**: 혼자 하기 힘든 청소를 전문가가 대신

**핵심 특징**:
- 시니어 전문 청소사 배정
- 친절한 응대 (말벗 겸)
- 꼼꼼한 청소
- 청소 후 사진 전송 (가족 확인용)

### 1.2 청소 서비스 메인

```typescript
경로: /home/cleaning

┌─────────────────────────────────────┐
│  청소 서비스                         │
│                                      │
│  우리 집을 깨끗하게!                │
│                                      │
│  인기 서비스                         │
│                                      │
│  ┌───────────────────────────────┐ │
│  │ 🧹 일반 청소 (3시간)          │ │
│  │                               │ │
│  │ 포함 내용:                    │ │
│  │ • 거실, 방 청소               │ │
│  │ • 주방 정리                   │ │
│  │ • 화장실 청소                 │ │
│  │ • 걸레질                      │ │
│  │ • 쓰레기 분리수거             │ │
│  │                               │ │
│  │ 평수: 20평 이하               │ │
│  │ 소요 시간: 약 3시간           │ │
│  │                               │ │
│  │ 40,000원                      │ │
│  │                               │ │
│  │ ⭐ 4.9 (리뷰 567개)           │ │
│  │                               │ │
│  │ [예약하기]                    │ │
│  └───────────────────────────────┘ │
│                                      │
│  ┌───────────────────────────────┐ │
│  │ 🌟 대청소 (5시간)             │ │
│  │                               │ │
│  │ 일반 청소 + 추가:             │ │
│  │ • 베란다 청소                 │ │
│  │ • 창문 닦기                   │ │
│  │ • 화장실 집중 청소            │ │
│  │ • 주방 기름때 제거            │ │
│  │ • 에어컨 필터 청소            │ │
│  │                               │ │
│  │ 평수: 30평 이하               │ │
│  │ 소요 시간: 약 5시간           │ │
│  │                               │ │
│  │ 70,000원                      │ │
│  │                               │ │
│  │ ⭐ 4.9 (리뷰 342개)           │ │
│  │                               │ │
│  │ [예약하기]                    │ │
│  └───────────────────────────────┘ │
│                                      │
│  ┌───────────────────────────────┐ │
│  │ 📅 정기 청소 (월 4회)         │ │
│  │                               │ │
│  │ 매주 1회 방문                 │
│  │ 일반 청소 (3시간)             │ │
│  │                               │ │
│  │ 월 150,000원                  │ │
│  │ (회당 37,500원, 6% 할인)      │ │
│  │                               │ │
│  │ 혜택:                         │ │
│  │ • 같은 청소사 배정            │ │
│  │ • 청소 도구 무료 제공         │ │
│  │ • 우선 예약                   │ │
│  │                               │ │
│  │ [구독하기]                    │ │
│  └───────────────────────────────┘ │
│                                      │
│  💡 평수가 더 크신가요?             │
│  [맞춤 견적 받기]                   │
└─────────────────────────────────────┘
```

### 1.3 예약 플로우

#### Step 1: 서비스 선택 및 상세 입력
```typescript
경로: /home/cleaning/book/details

┌─────────────────────────────────────┐
│  청소 서비스 예약                    │
│                                      │
│  선택: 일반 청소 (3시간)            │
│                                      │
│  집 정보                             │
│  평수: [20] 평                      │
│  구조: [아파트] ▼                   │
│        (아파트/빌라/주택/오피스텔)  │
│                                      │
│  청소 범위 선택:                    │
│  ☑ 거실 (필수)                      │
│  ☑ 방 1개 (필수)                    │
│  □ 방 2개 (+30분, +10,000원)        │
│  ☑ 주방 (필수)                      │
│  ☑ 화장실 (필수)                    │
│  □ 베란다 (+30분, +10,000원)        │
│                                      │
│  특이사항:                          │
│  ☑ 반려동물 있음 (강아지 1마리)     │
│  □ 고양이 알레르기 (청소사 배정 시) │
│  □ 무거운 짐 옮기기 필요            │
│                                      │
│  요청사항:                          │
│  ┌─────────────────────────────┐  │
│  │ 주방 기름때가 심해요           │  │
│  │ 화장실도 특히 신경써주세요     │  │
│  └─────────────────────────────┘  │
│                                      │
│  예상 시간: 3시간 30분              │
│  예상 금액: 50,000원                │
│                                      │
│  [다음]                             │
└─────────────────────────────────────┘
```

#### Step 2: 날짜 및 시간 선택
```typescript
┌─────────────────────────────────────┐
│  언제 청소할까요?                    │
│                                      │
│  빠른 선택:                         │
│  [내일] [모레] [이번 주말]          │
│                                      │
│       2025년 1월                    │
│  일  월  화  수  목  금  토          │
│                                      │
│             1   2   3   4           │
│                ○  ●  ○             │
│  5   6   7   8   9  10  11          │
│  ×  ○  ○  ○  ○  ○  ○           │
│                                      │
│  ○ 예약 가능                        │
│  ● 예약 많음                        │
│  × 예약 마감                        │
│                                      │
│  선택: 1월 3일 (금)                 │
│                                      │
│  시간 선택:                         │
│  ● 오전 (09:00 시작)                │
│  ○ 오후 (14:00 시작)                │
│  ○ 시간 직접 입력                   │
│                                      │
│  청소 예상 완료: 12:30              │
│                                      │
│  💡 집에 안 계셔도 괜찮아요          │
│  ☑ 비밀번호/열쇠 맡기고 외출        │
│                                      │
│  [다음]                             │
└─────────────────────────────────────┘
```

#### Step 3: 청소사 선택 (옵션)
```typescript
┌─────────────────────────────────────┐
│  청소사 선택                         │
│                                      │
│  ○ 자동 배정 (빠른 예약)            │
│  ● 직접 선택                        │
│                                      │
│  추천 청소사                         │
│                                      │
│  ┌───────────────────────────────┐ │
│  │ 👩 김미숙 (52세, 여성)         │ │
│  │                               │ │
│  │ ⭐ 4.9 (리뷰 234개)           │ │
│  │ 경력 8년 · 시니어 전문         │ │
│  │                               │ │
│  │ 장점:                         │ │
│  │ • 친절하고 말벗 되어줌        │ │
│  │ • 청소 꼼꼼함                 │ │
│  │ • 시간 잘 지킴                │ │
│  │                               │ │
│  │ 최근 리뷰:                    │ │
│  │ "너무 깨끗하게 해주셨어요.    │ │
│  │  말도 재밌게 해주셔서 좋았어요"│ │
│  │                               │ │
│  │ 가능 시간: 1월 3일 09:00      │ │
│  │                               │ │
│  │ [선택]                        │ │
│  └───────────────────────────────┘ │
│                                      │
│  ┌───────────────────────────────┐ │
│  │ 👩 박영희 (48세, 여성)         │ │
│  │ ⭐ 4.8 (리뷰 189개)           │ │
│  │ [선택]                        │ │
│  └───────────────────────────────┘ │
│                                      │
│  [더 보기]                          │
└─────────────────────────────────────┘
```

#### Step 4: 예약 확인 및 결제
```typescript
┌─────────────────────────────────────┐
│  예약 확인                           │
│                                      │
│  일반 청소 (3시간)                  │
│  + 방 1개 추가                      │
│                                      │
│  날짜: 1월 3일 (금)                 │
│  시간: 09:00 ~ 12:30 (예상)         │
│                                      │
│  청소사: 김미숙                     │
│  (⭐ 4.9, 리뷰 234개)               │
│                                      │
│  주소:                              │
│  서울시 강동구 천호대로 1234        │
│  아파트 101동 1502호                │
│                                      │
│  특이사항:                          │
│  • 반려동물 (강아지 1마리)          │
│  • 주방 기름때 집중                 │
│                                      │
│  ━━━━━━━━━━━━━━━━━━━━            │
│                                      │
│  일반 청소: 40,000원                │
│  방 추가: 10,000원                  │
│  ━━━━━━━━━━━━━━━━━━━━            │
│  총 금액: 50,000원                  │
│                                      │
│  결제 방법:                         │
│  ● 카드                             │
│  ○ 현장 결제                        │
│  ○ 포인트 (2,500P 보유)             │
│                                      │
│  [예약 완료]                        │
└─────────────────────────────────────┘
```

### 1.4 청소 진행 중 & 완료

#### 청소 진행 중
```typescript
경로: /home/cleaning/booking/[id]/progress

┌─────────────────────────────────────┐
│  청소 진행 중                        │
│                                      │
│  김미숙 청소사님이                  │
│  열심히 청소하고 계세요 🧹          │
│                                      │
│  시작 시간: 09:05                   │
│  경과 시간: 1시간 30분              │
│                                      │
│  진행 상황:                         │
│  ✅ 거실 청소 완료                  │
│  ✅ 방 1 청소 완료                  │
│  🔄 주방 청소 중                    │
│  ⏳ 화장실 청소 대기                │
│                                      │
│  예상 완료 시간: 12:30              │
│                                      │
│  [청소사에게 메시지]                │
│  [전화하기]                         │
└─────────────────────────────────────┘

실시간 알림:
- 청소사 도착 시
- 청소 시작 시
- 중간 진행 상황 (선택사항)
- 청소 완료 시
```

#### 청소 완료
```typescript
┌─────────────────────────────────────┐
│  청소 완료! ✨                      │
│                                      │
│  깨끗하게 청소가 끝났어요           │
│                                      │
│  완료 시간: 12:25                   │
│  소요 시간: 3시간 20분              │
│                                      │
│  청소 전/후 사진                    │
│                                      │
│  거실                                │
│  [Before] [After]                   │
│                                      │
│  주방                                │
│  [Before] [After]                   │
│                                      │
│  화장실                              │
│  [Before] [After]                   │
│                                      │
│  청소사 메모:                       │
│  "주방 기름때를 꼼꼼히 제거했어요.  │
│   화장실도 깨끗하게 정리했습니다.   │
│   쓰레기는 분리수거해서 내려놨어요."│
│                                      │
│  [리뷰 작성하기]                    │
│  [다시 예약하기]                    │
└─────────────────────────────────────┘

가족에게 자동 전송:
- 청소 완료 알림
- 전/후 사진
- 청소사 메모
```

### 1.5 정기 청소 구독

```typescript
경로: /home/cleaning/subscription

┌─────────────────────────────────────┐
│  정기 청소 구독                      │
│                                      │
│  매주 깨끗하게!                     │
│                                      │
│  구독 플랜:                         │
│  ● 주 1회 (매주 금요일)             │
│     월 150,000원                    │
│     (회당 37,500원)                 │
│                                      │
│  ○ 격주 1회                         │
│     월 75,000원                     │
│     (회당 37,500원)                 │
│                                      │
│  서비스: 일반 청소 (3시간)          │
│  시간: 매주 금요일 09:00            │
│                                      │
│  전담 청소사:                       │
│  👩 김미숙 (⭐ 4.9)                 │
│  * 같은 분이 계속 방문해요          │
│                                      │
│  구독 혜택:                         │
│  ✓ 6% 할인 (회당 2,500원)           │
│  ✓ 청소 도구 무료 제공              │
│  ✓ 우선 예약                        │
│  ✓ 일정 변경 무료 (2회/월)          │
│  ✓ 언제든 해지 가능                 │
│                                      │
│  첫 결제일: 2025-01-27              │
│  (이후 매월 27일 자동 결제)         │
│                                      │
│  [구독 시작하기]                    │
└─────────────────────────────────────┘
```

---

## 2. 집 수리 & 유지보수

### 2.1 개요
**목적**: 집안 소소한 수리를 전문가가 해결

**서비스 카테고리**:
- 전기 (전구, 콘센트, 누전)
- 수도 (수도꼭지, 변기, 배수구)
- 가구 (문, 서랍, 조립)
- 기타 (페인트, 방충망 등)

### 2.2 수리 서비스 메인

```typescript
경로: /home/repair

┌─────────────────────────────────────┐
│  집 수리 서비스                      │
│                                      │
│  고장난 곳을 빠르게 고쳐드려요!     │
│                                      │
│  카테고리 선택                       │
│                                      │
│  ┌────┐ ┌────┐ ┌────┐ ┌────┐      │
│  │💡 │ │🚰 │ │🪑 │ │🛠️│      │
│  │전기│ │수도│ │가구│ │기타│      │
│  └────┘ └────┘ └────┘ └────┘      │
│                                      │
│  자주 요청하는 수리                 │
│                                      │
│  ┌───────────────────────────────┐ │
│  │ 💡 전구 교체                  │ │
│  │    기본 15,000원              │ │
│  │    [견적 받기]                │ │
│  └───────────────────────────────┘ │
│                                      │
│  ┌───────────────────────────────┐ │
│  │ 🚰 수도꼭지 교체              │ │
│  │    기본 30,000원 + 부품비     │ │
│  │    [견적 받기]                │ │
│  └───────────────────────────────┘ │
│                                      │
│  ┌───────────────────────────────┐ │
│  │ 🚪 문 손잡이 수리             │ │
│  │    기본 20,000원              │ │
│  │    [견적 받기]                │ │
│  └───────────────────────────────┘ │
│                                      │
│  ┌───────────────────────────────┐ │
│  │ 🪟 방충망 교체                │ │
│  │    기본 25,000원              │ │
│  │    [견적 받기]                │ │
│  └───────────────────────────────┘ │
│                                      │
│  💡 뭐가 고장났는지 모르겠어요?     │
│  [사진으로 문의하기]                │
└─────────────────────────────────────┘
```

### 2.3 수리 요청 플로우

#### Step 1: 문제 설명
```typescript
경로: /home/repair/request

┌─────────────────────────────────────┐
│  수리 요청하기                       │
│                                      │
│  어떤 문제인가요?                   │
│                                      │
│  카테고리: [전기] ▼                 │
│                                      │
│  상세 항목:                         │
│  ● 전구 나감                        │
│  ○ 콘센트 안 됨                     │
│  ○ 전기 스위치 고장                 │
│  ○ 누전 의심                        │
│  ○ 기타                             │
│                                      │
│  문제 설명:                         │
│  ┌─────────────────────────────┐  │
│  │ 거실 천장 전등이 안 켜져요     │  │
│  │ 전구를 갈아야 할 것 같은데     │  │
│  │ 높아서 혼자 못 갈아요          │  │
│  └─────────────────────────────┘  │
│                                      │
│  사진 첨부 (선택):                  │
│  [📷 사진 촬영]                     │
│  [📁 갤러리에서 선택]               │
│                                      │
│  긴급도:                            │
│  ○ 긴급 (오늘 중)                   │
│  ● 일반 (3일 이내)                  │
│  ○ 여유 (일주일 이내)               │
│                                      │
│  [다음]                             │
└─────────────────────────────────────┘
```

#### Step 2: AI 자동 견적
```typescript
┌─────────────────────────────────────┐
│  예상 견적                           │
│                                      │
│  분석 결과:                         │
│  거실 천장 전등 전구 교체           │
│                                      │
│  필요한 작업:                       │
│  • 사다리 준비                      │
│  • 전구 교체 (LED 전구 제공)        │
│  • 작동 확인                        │
│                                      │
│  예상 비용:                         │
│  출장비: 10,000원                   │
│  작업비: 15,000원                   │
│  재료비: 5,000원 (LED 전구)         │
│  ━━━━━━━━━━━━━━━━━━━━            │
│  총 예상 금액: 30,000원             │
│                                      │
│  소요 시간: 약 30분                 │
│                                      │
│  💡 실제 방문 후 정확한 견적 안내   │
│     (추가 문제 발견 시 사전 고지)   │
│                                      │
│  [방문 예약하기]                    │
│  [다른 견적 받기]                   │
└─────────────────────────────────────┘
```

#### Step 3: 방문 일정 선택
```typescript
┌─────────────────────────────────────┐
│  방문 일정 선택                      │
│                                      │
│  가능한 날짜:                       │
│                                      │
│  ● 오늘 (1/24)                      │
│     15:00 ~ 18:00 사이              │
│     +긴급 출장비 10,000원           │
│                                      │
│  ○ 내일 (1/25)                      │
│     09:00 ~ 18:00 원하는 시간       │
│                                      │
│  ○ 모레 (1/26)                      │
│     09:00 ~ 18:00 원하는 시간       │
│                                      │
│  희망 시간: [15:00] ▼               │
│                                      │
│  주소:                              │
│  서울시 강동구 천호대로 1234        │
│  아파트 101동 1502호                │
│  [주소 변경]                        │
│                                      │
│  연락처:                            │
│  010-1234-5678                      │
│                                      │
│  [예약 확정]                        │
└─────────────────────────────────────┘
```

### 2.4 수리 진행 & 완료

```typescript
수리 진행 중:

┌─────────────────────────────────────┐
│  수리 진행 중                        │
│                                      │
│  기술자: 박정수 (⭐ 4.8)            │
│  경력 12년 · 전기 전문              │
│                                      │
│  도착 예정: 15:00                   │
│  현재 위치: 3km 거리                │
│  [실시간 위치 보기]                 │
│                                      │
│  [기술자에게 전화]                  │
└─────────────────────────────────────┘

수리 완료:

┌─────────────────────────────────────┐
│  수리 완료! ✅                      │
│                                      │
│  완료 시간: 15:35                   │
│  소요 시간: 25분                    │
│                                      │
│  작업 내용:                         │
│  • 천장 전등 전구 교체 (LED 15W)    │
│  • 전등 작동 확인                   │
│  • 다른 전구 상태도 점검            │
│                                      │
│  수리 전/후 사진:                   │
│  [Before] [After]                   │
│                                      │
│  기술자 메모:                       │
│  "전구를 LED로 교체했습니다.        │
│   다른 방 전구들도 확인했는데       │
│   주방 전구 1개가 곧 나갈 것 같아요.│
│   미리 교체하시는 게 좋을 것 같습니다."│
│                                      │
│  추가 제안:                         │
│  주방 전구 교체 (+10,000원)         │
│  [추가 작업 요청] [괜찮아요]        │
│                                      │
│  최종 금액: 30,000원                │
│                                      │
│  [결제하기]                         │
│  [리뷰 작성]                        │
└─────────────────────────────────────┘
```

---

## 3. 안전 점검

### 3.1 개요
**목적**: 정기적인 안전 점검으로 사고 예방

**점검 항목**:
- 가스 안전
- 전기 안전
- 화재 예방
- 낙상 위험 체크

### 3.2 안전 점검 서비스

```typescript
경로: /home/safety

┌─────────────────────────────────────┐
│  안전 점검 서비스                    │
│                                      │
│  안전한 생활을 위한 정기 점검       │
│                                      │
│  ┌───────────────────────────────┐ │
│  │ 🔥 가스 안전 점검              │ │
│  │                               │ │
│  │ 점검 내용:                    │ │
│  │ • 가스 누출 확인              │ │
│  │ • 가스 호스 상태 확인         │ │
│  │ • 중간밸브 점검               │ │
│  │ • 가스레인지 점화 확인        │ │
│  │ • 환기구 확인                 │ │
│  │                               │ │
│  │ 소요 시간: 30분               │ │
│  │ 가격: 20,000원                │ │
│  │                               │ │
│  │ [예약하기]                    │ │
│  └───────────────────────────────┘ │
│                                      │
│  ┌───────────────────────────────┐ │
│  │ ⚡ 전기 안전 점검              │ │
│  │                               │ │
│  │ 점검 내용:                    │ │
│  │ • 누전 차단기 작동 확인       │ │
│  │ • 콘센트 과열 체크            │ │
│  │ • 전선 노후 확인              │ │
│  │ • 멀티탭 과부하 체크          │ │
│  │ • 전기 사용량 분석            │ │
│  │                               │ │
│  │ 소요 시간: 40분               │ │
│  │ 가격: 25,000원                │ │
│  │                               │ │
│  │ [예약하기]                    │ │
│  └───────────────────────────────┘ │
│                                      │
│  ┌───────────────────────────────┐ │
│  │ 🚨 종합 안전 점검 (추천!)     │ │
│  │                               │ │
│  │ 포함 내용:                    │ │
│  │ • 가스 안전 점검              │ │
│  │ • 전기 안전 점검              │ │
│  │ • 화재경보기 설치/점검        │ │
│  │ • 낙상 위험 지역 체크         │ │
│  │ • 소화기 배치 확인            │ │
│  │ • 비상구 확보 확인            │ │
│  │                               │ │
│  │ 소요 시간: 90분               │ │
│  │ 가격: 60,000원                │ │
│  │ (개별 대비 15,000원 할인)     │ │
│  │                               │ │
│  │ [예약하기]                    │ │
│  └───────────────────────────────┘ │
│                                      │
│  💡 정기 점검 구독                  │
│  연 2회 무료 점검 (월 9,900원)      │
│  [자세히 보기]                      │
└─────────────────────────────────────┘
```

### 3.3 점검 결과 리포트

```typescript
경로: /home/safety/report/[id]

┌─────────────────────────────────────┐
│  안전 점검 결과                      │
│  2025-01-24                         │
│                                      │
│  종합 평가: 🟢 양호                 │
│                                      │
│  ━━━ 가스 안전 ━━━                 │
│  상태: 🟢 정상                      │
│                                      │
│  점검 항목:                         │
│  ✅ 가스 누출 없음                  │
│  ✅ 가스 호스 상태 양호             │
│  ✅ 중간밸브 정상 작동              │
│  ✅ 가스레인지 점화 정상            │
│  ⚠️ 환기구 먼지 다소 있음           │
│                                      │
│  조치 사항:                         │
│  • 환기구 청소 권장                 │
│                                      │
│  ━━━ 전기 안전 ━━━                 │
│  상태: 🟡 주의 필요                 │
│                                      │
│  점검 항목:                         │
│  ✅ 누전 차단기 정상 작동           │
│  ⚠️ 주방 콘센트 약간 과열 징후      │
│  ✅ 전선 상태 양호                  │
│  ⚠️ 거실 멀티탭 과부하              │
│  ✅ 전기 사용량 정상 범위           │
│                                      │
│  조치 사항:                         │
│  • 주방 콘센트 교체 권장 (2주 이내) │
│  • 거실 멀티탭 분산 사용 필요       │
│                                      │
│  ━━━ 화재 예방 ━━━                 │
│  상태: 🟡 보완 필요                 │
│                                      │
│  점검 항목:                         │
│  ✅ 화재경보기 작동 정상            │
│  ❌ 소화기 없음                     │
│  ✅ 비상구 확보됨                   │
│  ⚠️ 베란다에 인화물질 있음          │
│                                      │
│  조치 사항:                         │
│  • 소화기 설치 필수 (즉시)          │
│  • 베란다 인화물질 제거 권장        │
│                                      │
│  ━━━ 낙상 위험 ━━━                 │
│  상태: 🟡 주의 필요                 │
│                                      │
│  위험 지역:                         │
│  ⚠️ 화장실 바닥 미끄러움            │
│  ⚠️ 현관 문턱 높음                  │
│  ✅ 계단 손잡이 있음                │
│  ⚠️ 조명 어두움 (현관, 복도)        │
│                                      │
│  조치 사항:                         │
│  • 화장실 미끄럼방지 매트 설치      │
│  • 현관 문턱 제거/완화 검토         │
│  • 센서등 설치 권장                 │
│                                      │
│  ━━━ 즉시 조치 필요 ━━━            │
│  1. 소화기 구매 및 설치 (필수)      │
│  2. 주방 콘센트 교체 (2주 이내)     │
│  3. 화장실 미끄럼방지 (즉시)        │
│                                      │
│  ━━━ 권장 조치 ━━━                 │
│  1. 환기구 청소                     │
│  2. 센서등 설치                     │
│  3. 베란다 정리                     │
│                                      │
│  필요한 제품 구매하기               │
│  [소화기] [미끄럼방지 매트]         │
│  [센서등]                           │
│                                      │
│  [수리 서비스 예약]                 │
│  [가족에게 공유]                    │
│  [PDF 저장]                         │
└─────────────────────────────────────┘

자동 알림:
- 즉시 조치 필요 항목 → 가족에게 알림
- 2주 후 재점검 알림
- 다음 정기 점검 3개월 후 알림
```

---

## 4. 스마트홈 연동 (Phase 2)

### 4.1 개요
**목적**: IoT 기기 연동으로 안전하고 편리한 생활

**지원 기기**:
- 스마트 조명
- 스마트 플러그
- 가스 차단기
- 도어락
- 온도 조절기

### 4.2 스마트홈 대시보드

```typescript
경로: /home/smart

┌─────────────────────────────────────┐
│  스마트홈 관리                       │
│                                      │
│  연결된 기기 (5)                     │
│                                      │
│  ┌───────────────────────────────┐ │
│  │ 💡 거실 조명                  │ │
│  │    켜짐 · 밝기 80%            │ │
│  │    [끄기] [밝기 조절]         │ │
│  └───────────────────────────────┘ │
│                                      │
│  ┌───────────────────────────────┐ │
│  │ 🔌 TV 스마트 플러그           │ │
│  │    켜짐 · 전력 45W            │ │
│  │    [끄기]                     │ │
│  └───────────────────────────────┘ │
│                                      │
│  ┌───────────────────────────────┐ │
│  │ 🔥 가스 차단기                │ │
│  │    열림 · 정상                │ │
│  │    [잠그기]                   │ │
│  └───────────────────────────────┘ │
│                                      │
│  ┌───────────────────────────────┐ │
│  │ 🚪 현관 도어락                │ │
│  │    잠김 · 정상                │ │
│  │    [열기]                     │ │
│  └───────────────────────────────┘ │
│                                      │
│  ┌───────────────────────────────┐ │
│  │ 🌡️ 온도 조절기               │ │
│  │    현재 22°C · 희망 24°C      │ │
│  │    [온도 조절]                │ │
│  └───────────────────────────────┘ │
│                                      │
│  자동화 설정                         │
│  [새 자동화 만들기]                 │
│                                      │
│  활성 자동화 (3)                     │
│  • 저녁 7시 자동으로 조명 켜기      │
│  • 외출 시 모든 플러그 끄기         │
│  • 밤 12시 가스 자동 차단           │
│                                      │
│  [기기 추가하기]                    │
└─────────────────────────────────────┘
```

### 4.3 자동화 설정

```typescript
경로: /home/smart/automation/new

┌─────────────────────────────────────┐
│  새 자동화 만들기                    │
│                                      │
│  이름: [저녁 조명 자동]             │
│                                      │
│  언제 실행할까요?                   │
│  ● 시간 기준                        │
│  ○ 상황 기준                        │
│  ○ 기기 상태 기준                   │
│                                      │
│  시간: [19:00] 🕖                   │
│                                      │
│  요일 선택:                         │
│  ☑ 월 ☑ 화 ☑ 수 ☑ 목               │
│  ☑ 금 ☑ 토 ☑ 일                     │
│                                      │
│  무엇을 할까요?                     │
│  ☑ 거실 조명 켜기 (밝기 70%)        │
│  ☑ 방 조명 켜기 (밝기 50%)          │
│  □ TV 켜기                          │
│  ☑ 현관등 켜기                      │
│                                      │
│  [저장]                             │
└─────────────────────────────────────┘

예시 자동화:
1. "집 나갈 때"
   - 모든 조명 끄기
   - 모든 플러그 끄기
   - 가스 잠그기
   - 도어락 확인

2. "잠들기 전" (밤 11시)
   - 모든 조명 끄기
   - TV 끄기
   - 가스 차단
   - 현관 도어락 잠금 확인

3. "일어날 때" (아침 7시)
   - 침실 조명 서서히 켜기
   - 거실 난방 작동
   - 커튼 열기 (스마트 커튼 있는 경우)
```

---

## 5. 데이터베이스 스키마

```sql
-- 청소 서비스
CREATE TABLE cleaning_services (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  service_type VARCHAR(50), -- 'regular', 'deep', 'subscription'
  cleaner_id UUID REFERENCES cleaners(id),
  service_date DATE,
  service_time TIME,
  address JSONB,
  rooms TEXT[], -- ['living_room', 'bedroom', 'kitchen', 'bathroom']
  special_requests TEXT,
  has_pets BOOLEAN,
  estimated_duration INTEGER, -- minutes
  price INTEGER,
  status VARCHAR(50), -- 'pending', 'confirmed', 'in_progress', 'completed', 'cancelled'
  created_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE cleaners (
  id UUID PRIMARY KEY,
  name VARCHAR(100),
  age INTEGER,
  gender VARCHAR(10),
  experience_years INTEGER,
  rating DECIMAL(2,1),
  review_count INTEGER,
  specialties TEXT[], -- ['senior_care', 'pet_friendly', 'eco_friendly']
  profile_image_url TEXT,
  is_available BOOLEAN DEFAULT TRUE,
  created_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE cleaning_progress (
  id UUID PRIMARY KEY,
  service_id UUID REFERENCES cleaning_services(id),
  cleaner_id UUID REFERENCES cleaners(id),
  started_at TIMESTAMP,
  completed_at TIMESTAMP,
  progress_updates JSONB, -- [{area: 'living_room', status: 'completed', time: '10:30'}]
  before_photos TEXT[],
  after_photos TEXT[],
  cleaner_notes TEXT,
  created_at TIMESTAMP DEFAULT NOW()
);

-- 수리 서비스
CREATE TABLE repair_requests (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  category VARCHAR(50), -- 'electric', 'plumbing', 'furniture', 'other'
  issue_type VARCHAR(100),
  description TEXT,
  photos TEXT[],
  urgency VARCHAR(20), -- 'urgent', 'normal', 'flexible'
  estimated_cost INTEGER,
  technician_id UUID REFERENCES technicians(id),
  visit_date DATE,
  visit_time TIME,
  address JSONB,
  status VARCHAR(50), -- 'requested', 'quoted', 'scheduled', 'in_progress', 'completed'
  created_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE repair_completion (
  id UUID PRIMARY KEY,
  request_id UUID REFERENCES repair_requests(id),
  work_done TEXT,
  parts_used JSONB,
  before_photos TEXT[],
  after_photos TEXT[],
  technician_notes TEXT,
  additional_issues TEXT,
  actual_cost INTEGER,
  completed_at TIMESTAMP,
  created_at TIMESTAMP DEFAULT NOW()
);

-- 안전 점검
CREATE TABLE safety_inspections (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  inspection_type VARCHAR(50), -- 'gas', 'electric', 'fire', 'comprehensive'
  inspector_id UUID REFERENCES inspectors(id),
  inspection_date DATE,
  address JSONB,
  status VARCHAR(50),
  created_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE inspection_results (
  id UUID PRIMARY KEY,
  inspection_id UUID REFERENCES safety_inspections(id),
  overall_status VARCHAR(20), -- 'good', 'caution', 'danger'
  gas_safety JSONB, -- {status, items: [{item, result, notes}]}
  electric_safety JSONB,
  fire_prevention JSONB,
  fall_risks JSONB,
  immediate_actions TEXT[],
  recommended_actions TEXT[],
  photos TEXT[],
  next_inspection_date DATE,
  created_at TIMESTAMP DEFAULT NOW()
);

-- 스마트홈 기기
CREATE TABLE smart_devices (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  device_type VARCHAR(50), -- 'light', 'plug', 'gas_valve', 'door_lock', 'thermostat'
  device_name VARCHAR(100),
  location VARCHAR(100), -- 'living_room', 'bedroom', 'kitchen'
  device_id VARCHAR(255), -- IoT 기기 고유 ID
  status JSONB, -- {power: 'on', brightness: 80}
  is_online BOOLEAN,
  created_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE automations (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  name VARCHAR(255),
  trigger_type VARCHAR(50), -- 'time', 'condition', 'device_state'
  trigger_config JSONB,
  actions JSONB, -- [{device_id, action, params}]
  is_active BOOLEAN DEFAULT TRUE,
  created_at TIMESTAMP DEFAULT NOW()
);
```

---

**작성일**: 2025-01-24
**버전**: 1.0
**다음 문서**: 이동지원 상세 기획서
