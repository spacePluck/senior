# 이동지원(行) 모듈 - 상세 기획서

> **목표**: 시니어의 안전한 이동을 지원하는 교통 서비스

---

## 📋 목차

1. [시니어 택시](#1-시니어-택시)
2. [병원 셔틀](#2-병원-셔틀)
3. [산책 동행](#3-산책-동행)
4. [휠체어 택시](#4-휠체어-택시)

---

## 1. 시니어 택시

### 1.1 개요
**목적**: 친절하고 안전한 시니어 전용 택시

**차별점**:
- 시니어 응대 교육받은 기사
- 문 앞까지 모시고 가기
- 짐 들어주기
- 느린 속도 안전 운전
- 대화 가능

### 1.2 택시 호출 메인

```typescript
경로: /mobility/taxi

┌─────────────────────────────────────┐
│  시니어 택시                         │
│                                      │
│  안전하고 편안한 이동                │
│                                      │
│  어디로 가시나요?                   │
│                                      │
│  출발지:                            │
│  📍 [현재 위치]                     │
│     서울시 강동구 천호대로 1234     │
│     [위치 변경]                     │
│                                      │
│  도착지:                            │
│  🔍 [검색 또는 선택]                │
│                                      │
│  자주 가는 곳:                      │
│  [🏥 천호 정형외과]                 │
│  [🏪 천호 마트]                     │
│  [🏦 OO은행 천호지점]               │
│  [🏛️ 천호동 주민센터]               │
│                                      │
│  언제 출발하시나요?                 │
│  ● 지금 바로                        │
│  ○ 예약하기                         │
│                                      │
│  [택시 호출]                        │
│                                      │
│  ━━━━━━━━━━━━━━━━━━━━            │
│                                      │
│  💡 시니어 택시 특징                │
│  • 친절한 기사님                    │
│  • 문 앞까지 안전하게               │
│  • 짐 들어드려요                    │
│  • 천천히 운전                      │
│  • 말벗도 되어드려요                │
└─────────────────────────────────────┘
```

### 1.3 택시 호출 플로우

#### Step 1: 목적지 검색
```typescript
경로: /mobility/taxi/destination

┌─────────────────────────────────────┐
│  목적지 검색                         │
│                                      │
│  🔍 [검색어 입력]                   │
│                                      │
│  최근 목적지:                       │
│  🏥 천호 정형외과                   │
│     서울시 강동구... · 1.2km        │
│     [선택]                          │
│                                      │
│  🏪 천호 마트                       │
│     서울시 강동구... · 800m         │
│     [선택]                          │
│                                      │
│  즐겨찾기:                          │
│  🏠 아들 집                         │
│     서울시 송파구... · 5.3km        │
│     [선택]                          │
│                                      │
│  💡 주소를 말씀해주세요             │
│  [🎤 음성으로 입력]                 │
└─────────────────────────────────────┘

검색 결과:
┌─────────────────────────────────────┐
│  "천호 정형외과" 검색 결과           │
│                                      │
│  ┌───────────────────────────────┐ │
│  │ 🏥 천호 정형외과              │ │
│  │    서울시 강동구 천호대로 500  │ │
│  │    📍 1.2km · 차로 5분        │ │
│  │    [선택]                     │ │
│  └───────────────────────────────┘ │
│                                      │
│  ┌───────────────────────────────┐ │
│  │ 🏥 천호 연세정형외과          │ │
│  │    서울시 강동구...           │ │
│  │    📍 1.5km · 차로 6분        │ │
│  │    [선택]                     │ │
│  └───────────────────────────────┘ │
└─────────────────────────────────────┘
```

#### Step 2: 옵션 선택
```typescript
┌─────────────────────────────────────┐
│  택시 옵션 선택                      │
│                                      │
│  출발: 서울시 강동구 천호대로 1234  │
│  도착: 천호 정형외과                │
│  거리: 1.2km · 예상 시간: 5분       │
│                                      │
│  ━━━ 출발 시간 ━━━                 │
│  ● 지금 바로                        │
│  ○ 예약                             │
│                                      │
│  ━━━ 추가 옵션 ━━━                 │
│  □ 왕복 예약 (+3,000원)             │
│     돌아올 시간: [14:30] 🕑         │
│                                      │
│  □ 동행 서비스 (+10,000원)          │
│     기사님이 함께 내려서            │
│     건물 입구까지 모셔드려요        │
│                                      │
│  □ 짐 도움 (무료)                   │
│     짐이 있으시면 들어드려요        │
│                                      │
│  ━━━ 기사 선호도 ━━━               │
│  □ 여성 기사 선호                   │
│  □ 대화 선호 안 함                  │
│                                      │
│  특별 요청사항:                     │
│  ┌─────────────────────────────┐  │
│  │ 무릎이 불편해서 천천히         │  │
│  │ 타고 내릴게요                  │  │
│  └─────────────────────────────┘  │
│                                      │
│  ━━━ 예상 요금 ━━━                 │
│  기본 요금: 5,000원                 │
│  시니어 할인: -500원                │
│  ━━━━━━━━━━━━━━━━━━━━            │
│  총 예상 금액: 4,500원              │
│                                      │
│  [택시 호출하기]                    │
└─────────────────────────────────────┘
```

#### Step 3: 기사 매칭 중
```typescript
┌─────────────────────────────────────┐
│  택시를 찾고 있어요...               │
│                                      │
│  🚕 [애니메이션]                    │
│                                      │
│  근처 시니어 택시를 찾는 중...      │
│                                      │
│  💡 평균 대기 시간: 3~5분           │
│                                      │
│  [취소]                             │
└─────────────────────────────────────┘

매칭 완료:
┌─────────────────────────────────────┐
│  택시가 배정되었어요! ✅            │
│                                      │
│  기사 정보                           │
│  👨 이철수 (58세)                   │
│  ⭐ 4.9 (리뷰 567개)                │
│  경력 12년 · 시니어 전문            │
│                                      │
│  차량 정보                           │
│  🚕 카니발 하이브리드 · 12가 3456   │
│  깨끗함 · 에어컨 작동               │
│                                      │
│  도착 예정                           │
│  약 3분 후 도착                     │
│  현재 위치: 500m 거리               │
│  [실시간 위치 보기]                 │
│                                      │
│  [기사님께 전화]                    │
│  [취소]                             │
└─────────────────────────────────────┘
```

### 1.4 탑승 중

```typescript
경로: /mobility/taxi/ride/[id]

┌─────────────────────────────────────┐
│  탑승 중 🚕                         │
│                                      │
│  [지도 - 실시간 위치]               │
│  ━━━━━━━━━━━━━━━━━━━━            │
│  출발 ●─────────○ 목적지           │
│        현재 위치 ↑                  │
│                                      │
│  목적지: 천호 정형외과              │
│  예상 도착: 3분 후 (14:28)          │
│  남은 거리: 0.8km                   │
│                                      │
│  기사: 이철수                       │
│  차량: 12가 3456                    │
│                                      │
│  [기사님께 전화]                    │
│  [목적지 변경]                      │
│                                      │
│  ━━━━━━━━━━━━━━━━━━━━            │
│                                      │
│  💬 기사님 메시지                   │
│  "천천히 안전하게 모시겠습니다!"    │
│                                      │
│  🆘 비상 연락                       │
│  위급 상황 시 누르세요              │
└─────────────────────────────────────┘

자동 알림 (가족):
- 탑승 시작
- 목적지 도착
- 위급 상황 발생 시
```

### 1.5 도착 및 결제

```typescript
┌─────────────────────────────────────┐
│  안전하게 도착했어요! ✅            │
│                                      │
│  목적지: 천호 정형외과              │
│  도착 시간: 14:25                   │
│  소요 시간: 4분                     │
│                                      │
│  ━━━ 요금 ━━━                      │
│  주행 거리: 1.2km                   │
│  기본 요금: 5,000원                 │
│  시니어 할인: -500원                │
│  ━━━━━━━━━━━━━━━━━━━━            │
│  총 요금: 4,500원                   │
│                                      │
│  결제 방법:                         │
│  ● 등록 카드 (자동 결제)            │
│  ○ 현금                             │
│  ○ 포인트 (2,500P 보유)             │
│                                      │
│  [결제 완료]                        │
│                                      │
│  ━━━━━━━━━━━━━━━━━━━━            │
│                                      │
│  이철수 기사님 어떠셨나요?          │
│  ⭐⭐⭐⭐⭐                         │
│                                      │
│  [리뷰 작성]  [나중에]              │
│                                      │
│  💡 왕복 예약하셨나요?              │
│  돌아갈 시간: 14:30                 │
│  [예약 확인]                        │
└─────────────────────────────────────┘
```

---

## 2. 병원 셔틀

### 2.1 개요
**목적**: 정기 병원 방문을 위한 전용 셔틀

**특징**:
- 병원 예약과 연동
- 왕복 서비스
- 진료 대기 중 기사 대기
- 약 수령까지 도움
- 고정 요금제

### 2.2 병원 셔틀 예약

```typescript
경로: /mobility/hospital-shuttle

┌─────────────────────────────────────┐
│  병원 셔틀 서비스                    │
│                                      │
│  병원 갈 때, 걱정 없이!             │
│                                      │
│  ━━━ 서비스 안내 ━━━               │
│                                      │
│  포함 내용:                         │
│  ✓ 집 → 병원 픽업                   │
│  ✓ 진료 대기 중 기사 대기           │
│  ✓ 병원 → 약국 이동                 │
│  ✓ 약국 → 집 배웅                   │
│                                      │
│  소요 시간: 진료 시간 + 이동 시간   │
│  요금: 왕복 30,000원 (거리 무관)    │
│                                      │
│  ━━━ 예약하기 ━━━                  │
│                                      │
│  병원 예약 선택:                    │
│  ┌───────────────────────────────┐ │
│  │ 🏥 천호 정형외과              │ │
│  │    1월 27일 (월) 14:00        │ │
│  │    김철수 원장                │ │
│  │    [선택]                     │ │
│  └───────────────────────────────┘ │
│                                      │
│  ┌───────────────────────────────┐ │
│  │ 🏥 강동성심병원               │ │
│  │    1월 30일 (목) 10:00        │ │
│  │    이영희 교수                │ │
│  │    [선택]                     │ │
│  └───────────────────────────────┘ │
│                                      │
│  [새 병원 예약 추가]                │
│                                      │
│  ━━━━━━━━━━━━━━━━━━━━            │
│                                      │
│  월 정기권 (월 4회)                 │
│  100,000원 (회당 25,000원, 17% 할인)│
│  [정기권 구매]                      │
└─────────────────────────────────────┘
```

### 2.3 셔틀 예약 상세

```typescript
경로: /mobility/hospital-shuttle/book

┌─────────────────────────────────────┐
│  병원 셔틀 예약                      │
│                                      │
│  선택한 병원 예약:                  │
│  🏥 천호 정형외과                   │
│  📅 1월 27일 (월) 14:00             │
│                                      │
│  픽업 시간 계산:                    │
│  병원 예약: 14:00                   │
│  이동 시간: 5분                     │
│  여유 시간: 15분                    │
│  ━━━━━━━━━━━━━━━━━━━━            │
│  권장 픽업 시간: 13:40              │
│                                      │
│  픽업 시간:                         │
│  ● 권장 시간 (13:40)                │
│  ○ 직접 선택 [13:30] ▼             │
│                                      │
│  픽업 위치:                         │
│  📍 서울시 강동구 천호대로 1234     │
│     아파트 101동 정문 앞            │
│     [위치 변경]                     │
│                                      │
│  추가 옵션:                         │
│  ☑ 병원 동행 서비스 (+10,000원)     │
│     접수, 대기, 진료까지 동행       │
│                                      │
│  □ 휠체어 필요                      │
│  □ 산소호흡기 탑재 필요             │
│                                      │
│  특별 요청:                         │
│  ┌─────────────────────────────┐  │
│  │ 무릎이 불편해서                │  │
│  │ 천천히 태워주세요              │  │
│  └─────────────────────────────┘  │
│                                      │
│  ━━━ 요금 ━━━                      │
│  병원 셔틀 (왕복): 30,000원         │
│  병원 동행: 10,000원                │
│  ━━━━━━━━━━━━━━━━━━━━            │
│  총 금액: 40,000원                  │
│                                      │
│  [예약 확정]                        │
└─────────────────────────────────────┘
```

### 2.4 병원 셔틀 진행

```typescript
당일 알림 순서:

1. 1시간 전 알림 (12:40)
┌─────────────────────────────────────┐
│  🚕 병원 셔틀 안내                  │
│                                      │
│  1시간 후 출발 예정입니다           │
│                                      │
│  픽업 시간: 13:40                   │
│  픽업 위치: 아파트 101동 정문       │
│  목적지: 천호 정형외과 (14:00 예약) │
│                                      │
│  준비물:                            │
│  □ 건강보험증                       │
│  □ 복용 중인 약 목록                │
│  □ 최근 검사 결과                   │
│                                      │
│  [확인]                             │
└─────────────────────────────────────┘

2. 기사 배정 (13:20)
┌─────────────────────────────────────┐
│  기사님이 배정되었어요              │
│                                      │
│  👨 박종수 (52세)                   │
│  ⭐ 4.9 (병원 셔틀 전문)            │
│  경력 10년                          │
│                                      │
│  🚙 그랜저 · 34나 5678              │
│                                      │
│  20분 후 출발합니다                 │
│                                      │
│  [기사님께 전화]                    │
└─────────────────────────────────────┘

3. 출발 10분 전 (13:30)
┌─────────────────────────────────────┐
│  곧 출발합니다                       │
│                                      │
│  기사님이 10분 후 도착해요          │
│  아파트 정문으로 나와주세요         │
│                                      │
│  [준비 완료]                        │
└─────────────────────────────────────┘

4. 픽업 (13:40)
┌─────────────────────────────────────┐
│  탑승 중 🚕                         │
│                                      │
│  목적지: 천호 정형외과              │
│  도착 예정: 13:45 (5분 후)          │
│                                      │
│  진료 예약: 14:00                   │
│  여유 시간: 15분                    │
│                                      │
│  [실시간 위치]                      │
└─────────────────────────────────────┘

5. 병원 도착 (13:45)
┌─────────────────────────────────────┐
│  병원에 도착했어요                  │
│                                      │
│  ✅ 동행 서비스 신청하셨습니다      │
│                                      │
│  기사님이 함께 들어가서             │
│  접수를 도와드릴게요                │
│                                      │
│  [접수 시작]                        │
└─────────────────────────────────────┘

6. 진료 대기 중
┌─────────────────────────────────────┐
│  대기 중                             │
│                                      │
│  접수 완료: 13:50                   │
│  대기 번호: 23번                    │
│  현재 진료 중: 18번                 │
│                                      │
│  예상 대기 시간: 약 25분            │
│                                      │
│  기사님은 차에서 대기 중입니다      │
│  진료 끝나면 문자 주세요            │
│                                      │
│  [진료 완료 알림]                   │
└─────────────────────────────────────┘

7. 진료 완료
┌─────────────────────────────────────┐
│  진료 완료 알림이 기사님께          │
│  전송되었어요                       │
│                                      │
│  다음 단계:                         │
│  ☑ 약 처방받기                      │
│  ☑ 근처 약국 가기                   │
│                                      │
│  약국: 천호 약국 (도보 1분)         │
│                                      │
│  [약국으로 이동]                    │
│  [바로 귀가]                        │
└─────────────────────────────────────┘

8. 귀가
┌─────────────────────────────────────┐
│  집으로 출발합니다                  │
│                                      │
│  약 수령 완료!                      │
│  집까지 안전하게 모셔다드릴게요     │
│                                      │
│  예상 도착: 15:30                   │
│                                      │
│  [실시간 위치]                      │
└─────────────────────────────────────┘

9. 도착 및 정산
┌─────────────────────────────────────┐
│  안전하게 집에 도착했어요! 🏠       │
│                                      │
│  오늘 병원 방문 요약:               │
│  픽업: 13:40                        │
│  병원 도착: 13:45                   │
│  진료 완료: 14:35                   │
│  약 수령: 14:45                     │
│  귀가: 15:25                        │
│                                      │
│  총 소요 시간: 1시간 45분           │
│                                      │
│  ━━━ 요금 ━━━                      │
│  병원 셔틀: 30,000원                │
│  병원 동행: 10,000원                │
│  대기 시간: 무료                    │
│  ━━━━━━━━━━━━━━━━━━━━            │
│  총 금액: 40,000원                  │
│                                      │
│  [자동 결제 완료]                   │
│                                      │
│  [리뷰 작성]                        │
└─────────────────────────────────────┘
```

---

## 3. 산책 동행

### 3.1 개요
**목적**: 혼자 나가기 불안한 시니어를 위한 산책 동행

**특징**:
- 안전한 산책 코스
- 대화하며 걷기
- 낙상 사고 예방
- 건강 모니터링

### 3.2 산책 동행 신청

```typescript
경로: /mobility/walk-companion

┌─────────────────────────────────────┐
│  산책 동행 서비스                    │
│                                      │
│  함께 걸으면 더 안전해요!           │
│                                      │
│  ━━━ 서비스 안내 ━━━               │
│                                      │
│  포함 내용:                         │
│  ✓ 전문 동행자와 함께 산책          │
│  ✓ 안전한 속도로 걷기               │
│  ✓ 대화하며 즐겁게                  │
│  ✓ 낙상 사고 예방                   │
│  ✓ 걸음 수, 칼로리 기록             │
│                                      │
│  요금:                              │
│  1시간: 20,000원                    │
│  정기권 (주 3회): 월 200,000원      │
│                                      │
│  ━━━ 예약하기 ━━━                  │
│                                      │
│  날짜: [1월 27일] 📅                │
│                                      │
│  시간:                              │
│  ● 오전 (09:00~12:00)               │
│  ○ 오후 (14:00~18:00)               │
│  ○ 시간 직접 선택                   │
│                                      │
│  출발 장소:                         │
│  📍 집 앞 (천호대로 1234)           │
│     [장소 변경]                     │
│                                      │
│  산책 코스:                         │
│  ● 천호 공원 (1.5km, 평지)          │
│  ○ 아차산 둘레길 (2km, 완만)        │
│  ○ 올림픽 공원 (3km, 평지)          │
│  ○ 직접 선택                        │
│                                      │
│  소요 시간: 약 1시간                │
│                                      │
│  동행자 선호:                       │
│  ○ 남성  ● 여성  ○ 상관없음        │
│  ○ 20대  ○ 30대  ● 40~50대         │
│                                      │
│  특별 요청:                         │
│  ┌─────────────────────────────┐  │
│  │ 무릎이 좋지 않아서             │  │
│  │ 천천히 걷고 싶어요             │  │
│  └─────────────────────────────┘  │
│                                      │
│  [예약하기]                         │
└─────────────────────────────────────┘
```

### 3.3 산책 진행

```typescript
당일:

1. 1시간 전 알림
┌─────────────────────────────────────┐
│  산책 동행 안내                      │
│                                      │
│  1시간 후 산책 예정입니다           │
│                                      │
│  시간: 오전 10:00                   │
│  장소: 집 앞 (천호대로 1234)        │
│  코스: 천호 공원 (1.5km)            │
│                                      │
│  준비물:                            │
│  □ 편한 운동화                      │
│  □ 물                               │
│  □ 모자 (햇볕 차단)                 │
│                                      │
│  날씨: ☀️ 맑음 15°C                │
│  미세먼지: 좋음                     │
│                                      │
│  [확인]                             │
└─────────────────────────────────────┘

2. 동행자 도착
┌─────────────────────────────────────┐
│  동행자가 도착했어요                │
│                                      │
│  👩 김영희 (48세)                   │
│  ⭐ 4.9 (리뷰 234개)                │
│  경력 5년 · 산책 동행 전문          │
│                                      │
│  "안녕하세요! 즐거운 산책           │
│   함께 하겠습니다 😊"               │
│                                      │
│  [산책 시작]                        │
└─────────────────────────────────────┘

3. 산책 중
┌─────────────────────────────────────┐
│  산책 중 🚶                         │
│                                      │
│  [지도 - 현재 위치 및 코스]         │
│                                      │
│  경과 시간: 25분                    │
│  걸은 거리: 0.8km                   │
│  평균 속도: 1.9km/h                 │
│                                      │
│  걸음 수: 1,240보                   │
│  소모 칼로리: 52kcal                │
│                                      │
│  현재 속도: 적정 👍                 │
│  심박수: 78bpm (정상)               │
│                                      │
│  [휴식하기]                         │
│  [산책 종료]                        │
└─────────────────────────────────────┘

4. 산책 완료
┌─────────────────────────────────────┐
│  산책 완료! 잘 걸으셨어요 🎉       │
│                                      │
│  오늘의 기록:                       │
│  소요 시간: 58분                    │
│  걸은 거리: 1.52km                  │
│  걸음 수: 2,350보                   │
│  소모 칼로리: 115kcal               │
│  평균 속도: 1.6km/h                 │
│                                      │
│  건강 지표:                         │
│  평균 심박수: 82bpm                 │
│  최고 심박수: 95bpm                 │
│  상태: 매우 좋음 ✅                 │
│                                      │
│  동행자 메모:                       │
│  "오늘 컨디션이 아주 좋으셨어요!    │
│   공원 벤치에서 잠시 쉬면서         │
│   이야기 나눈 것도 즐거웠습니다.    │
│   다음에도 함께 걸어요!"            │
│                                      │
│  요금: 20,000원                     │
│  [자동 결제 완료]                   │
│                                      │
│  [기록 저장]                        │
│  [리뷰 작성]                        │
│  [다음 산책 예약]                   │
└─────────────────────────────────────┘
```

---

## 4. 휠체어 택시

### 4.1 개요
**목적**: 거동이 불편한 시니어를 위한 전용 차량

**특징**:
- 휠체어 탑재 가능 차량
- 리프트 or 경사로 장착
- 승하차 도움
- 의료 장비 탑재 가능

### 4.2 휠체어 택시 예약

```typescript
경로: /mobility/wheelchair-taxi

┌─────────────────────────────────────┐
│  휠체어 택시                         │
│                                      │
│  안전하고 편안한 이동                │
│                                      │
│  ━━━ 차량 정보 ━━━                 │
│                                      │
│  [차량 사진]                        │
│  • 휠체어 전용 차량 (리프트 장착)   │
│  • 최대 2명 탑승 (환자+보호자)      │
│  • 의료 장비 탑재 가능              │
│  • 에어컨/히터 완비                 │
│                                      │
│  ━━━ 예약하기 ━━━                  │
│                                      │
│  💡 24시간 전 예약 필수             │
│                                      │
│  이용 날짜: [1월 30일] 📅           │
│  이용 시간: [10:00] 🕐              │
│                                      │
│  출발지:                            │
│  📍 [주소 입력]                     │
│                                      │
│  목적지:                            │
│  📍 [주소 입력]                     │
│                                      │
│  이용 목적:                         │
│  ● 병원 방문                        │
│  ○ 재활 치료                        │
│  ○ 외출                             │
│  ○ 기타                             │
│                                      │
│  환자 정보:                         │
│  휠체어 종류:                       │
│  ● 일반 휠체어                      │
│  ○ 전동 휠체어                      │
│  ○ 리클라이닝 휠체어                │
│                                      │
│  휠체어 크기:                       │
│  가로: [65]cm                       │
│  세로: [100]cm                      │
│  무게: [25]kg                       │
│                                      │
│  추가 장비:                         │
│  □ 산소호흡기                       │
│  □ 흡인기                           │
│  □ 기타 의료 장비                   │
│                                      │
│  보호자 동행:                       │
│  ☑ 보호자 1명 동행                  │
│                                      │
│  특별 요청:                         │
│  ┌─────────────────────────────┐  │
│  │ 움직일 때 통증이 있어서        │  │
│  │ 특히 조심스럽게 부탁드려요     │  │
│  └─────────────────────────────┘  │
│                                      │
│  ━━━ 요금 ━━━                      │
│  기본 요금 (30분): 50,000원         │
│  추가 10분당: 10,000원              │
│  산소호흡기 탑재: +20,000원         │
│                                      │
│  예상 이동 시간: 25분               │
│  예상 금액: 50,000원                │
│                                      │
│  [예약 신청]                        │
│                                      │
│  💡 예약 확정은 차량 배정 후        │
│     문자로 안내드립니다             │
└─────────────────────────────────────┘
```

---

## 5. 데이터베이스 스키마

```sql
-- 택시 호출
CREATE TABLE taxi_rides (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  ride_type VARCHAR(50), -- 'senior_taxi', 'hospital_shuttle', 'wheelchair_taxi'
  driver_id UUID REFERENCES drivers(id),
  pickup_location JSONB,
  dropoff_location JSONB,
  pickup_time TIMESTAMP,
  dropoff_time TIMESTAMP,
  scheduled_at TIMESTAMP, -- 예약 시간
  distance_km DECIMAL(5,2),
  duration_minutes INTEGER,
  price INTEGER,
  options JSONB, -- {round_trip, companion_service, wheelchair_type}
  status VARCHAR(50), -- 'requested', 'assigned', 'pickup', 'in_progress', 'completed', 'cancelled'
  created_at TIMESTAMP DEFAULT NOW()
);

-- 기사
CREATE TABLE drivers (
  id UUID PRIMARY KEY,
  name VARCHAR(100),
  age INTEGER,
  gender VARCHAR(10),
  rating DECIMAL(2,1),
  review_count INTEGER,
  specialties TEXT[], -- ['senior_care', 'wheelchair', 'hospital_shuttle']
  vehicle_info JSONB, -- {model, plate_number, features}
  is_available BOOLEAN DEFAULT TRUE,
  created_at TIMESTAMP DEFAULT NOW()
);

-- 산책 동행
CREATE TABLE walk_sessions (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  companion_id UUID REFERENCES companions(id),
  scheduled_at TIMESTAMP,
  started_at TIMESTAMP,
  ended_at TIMESTAMP,
  route JSONB, -- {name, distance_km, waypoints}
  pickup_location JSONB,
  duration_minutes INTEGER,
  price INTEGER,
  status VARCHAR(50),
  created_at TIMESTAMP DEFAULT NOW()
);

-- 산책 기록
CREATE TABLE walk_records (
  id UUID PRIMARY KEY,
  session_id UUID REFERENCES walk_sessions(id),
  user_id UUID REFERENCES users(id),
  distance_km DECIMAL(5,2),
  steps INTEGER,
  calories_burned INTEGER,
  duration_minutes INTEGER,
  avg_speed DECIMAL(3,1), -- km/h
  avg_heart_rate INTEGER,
  max_heart_rate INTEGER,
  route_map JSONB, -- GPS 좌표들
  companion_notes TEXT,
  created_at TIMESTAMP DEFAULT NOW()
);

-- 동행자
CREATE TABLE companions (
  id UUID PRIMARY KEY,
  name VARCHAR(100),
  age INTEGER,
  gender VARCHAR(10),
  rating DECIMAL(2,1),
  review_count INTEGER,
  specialties TEXT[], -- ['slow_walker', 'conversation', 'health_monitoring']
  profile_image_url TEXT,
  is_available BOOLEAN DEFAULT TRUE,
  created_at TIMESTAMP DEFAULT NOW()
);
```

---

**작성일**: 2025-01-24
**버전**: 1.0
**다음 문서**: 가족모니터링 상세 기획서
