# 시니어 헬스케어 중심 통합 플랫폼 - 확장 기능명세서

> **핵심 컨셉**: 헬스케어(Healthcare)를 중심으로 의식주(食·住·行) 전반을 관리하는 시니어 생활 통합 플랫폼

---

## 🎯 서비스 재정의

### 기존 방향 (수정 전)
- 이발 예약 중심
- 생활 편의 서비스 나열

### 새로운 방향 (헬스케어 중심)
**"건강한 노후를 위한 모든 것"**

```
중심축: 헬스케어 (Health)
       ↓
지원축: 의식주 (Food, Shelter, Mobility)
       ↓
목표: 건강하고 안전한 독립적 생활
```

---

## 📊 서비스 구조 재설계

### 1단계: 헬스케어 (건강 관리)
**목표**: 병원 가기 전 예방, 병원 다녀온 후 관리

#### 핵심 기능
1. **건강 모니터링** - 매일 체크
2. **복약 관리** - 약 잊지 않고 먹기
3. **병원 예약 & 동행** - 혼자 가기 어려운 병원
4. **건강 기록** - 가족과 공유
5. **응급 대응** - 위급 상황 감지

### 2단계: 식(食) - 영양 관리
**목표**: 건강에 좋은 식사를 편하게

#### 핵심 기능
1. **시니어 맞춤 도시락** - 저염·저당·영양균형
2. **식단 기록** - 뭘 먹었는지 추적
3. **영양 분석** - AI가 부족한 영양소 알림
4. **밑반찬 배달** - 일주일치 한번에

### 3단계: 주(住) - 안전한 생활 환경
**목표**: 집에서 안전하고 깨끗하게

#### 핵심 기능
1. **청소 서비스** - 혼자 하기 힘든 청소
2. **집 수리** - 전구, 수도꼭지 등
3. **안전 체크** - 가스, 전기 점검
4. **스마트홈 연동** - 자동 조명, 온도

### 4단계: 행(行) - 이동 지원
**목표**: 안전하게 목적지까지

#### 핵심 기능
1. **시니어 택시** - 친절한 기사님
2. **병원 셔틀** - 정기 병원 방문
3. **산책 동행** - 혼자 나가기 두려울 때
4. **휠체어 택시** - 거동 불편 시

### 5단계: 기타 생활 서비스
**목표**: 삶의 질 향상

#### 핵심 기능
1. **이발/미용** - 집에서 또는 매장에서
2. **취미/여가** - 운동, 문화생활
3. **복지 신청** - 정부 지원금 놓치지 않기
4. **법률/행정** - 어려운 서류 대행

---

## 🏗️ 확장된 기능 명세서

---

## 1️⃣ 홈 화면 (건강 중심 대시보드)

### 1.1 건강 상태 한눈에 보기
```typescript
섹션 구성:
┌─────────────────────────────┐
│  오늘의 건강 점수: 85점 🟢   │ ← AI 분석 종합 점수
│  약 복용, 운동, 식사 모두 체크│
└─────────────────────────────┘

┌─────────────────────────────┐
│  오늘 할 일 3가지            │
│  □ 아침약 먹기 (09:00)       │
│  □ 병원 예약 (14:00)         │
│  □ 혈압 측정하기             │
└─────────────────────────────┘

┌─────────────────────────────┐
│  건강 기록                   │
│  혈압: 120/80 (정상) ✓       │
│  혈당: 95 (정상) ✓           │
│  체중: 68kg                  │
└─────────────────────────────┘

데이터 구조:
{
  healthScore: number; // 0-100
  dailyTasks: Task[];
  healthRecords: {
    bloodPressure: { systolic: number, diastolic: number, date: Date };
    bloodSugar: { level: number, date: Date };
    weight: { kg: number, date: Date };
  };
}
```

### 1.2 AI 건강 어시스턴트
```typescript
기능:
- 음성 입력: "머리가 아파요"
  → AI 분석: "두통 증상입니다. 가까운 내과를 예약할까요?"

- 텍스트 입력: "혈압약 먹는 시간"
  → "오전 9시, 오후 6시입니다"

- 긴급 상황: "넘어졌어요"
  → 자동으로 가족에게 알림 + 119 연결 옵션

구현:
Phase 1: 키워드 매칭 (간단한 규칙 기반)
Phase 2: OpenAI API 연동 (자연어 처리)
Phase 3: 음성 인식 + TTS (읽어주기)
```

### 1.3 빠른 서비스 접근
```typescript
6개 핵심 서비스:

1. 🏥 병원 예약
   - 자주 가는 병원 바로 예약
   - 병원 동행 서비스 신청

2. 💊 복약 관리
   - 오늘 먹을 약 체크
   - 약 재고 관리

3. 🍱 식사 주문
   - 시니어 맞춤 도시락
   - 영양 균형 식단

4. 🧹 생활 도움
   - 청소, 빨래, 집 수리

5. 🚕 이동 지원
   - 시니어 택시
   - 병원 셔틀

6. 💈 케어 서비스
   - 이발, 목욕, 마사지
```

---

## 2️⃣ 헬스케어 (Health) - 핵심 기능

### 2.1 건강 모니터링 대시보드
```typescript
경로: /health/dashboard

섹션:
1. 생체 신호
   - 혈압, 혈당, 체온, 산소포화도
   - 수동 입력 또는 IoT 기기 연동
   - 그래프로 추이 표시

2. 활동량
   - 걸음 수, 운동 시간
   - 주간/월간 비교
   - 목표 설정 및 달성률

3. 수면 패턴
   - 수면 시간, 수면 질
   - 불면증 체크

4. AI 건강 인사이트
   - "혈압이 평소보다 높습니다. 염분 섭취를 줄여보세요"
   - "일주일째 운동을 안 했어요. 가벼운 산책 어떠세요?"

데이터 구조:
{
  vitals: {
    bloodPressure: Array<{date: Date, systolic: number, diastolic: number}>;
    bloodSugar: Array<{date: Date, level: number, timing: string}>;
    temperature: Array<{date: Date, celsius: number}>;
    oxygenLevel: Array<{date: Date, percentage: number}>;
  };
  activity: {
    steps: Array<{date: Date, count: number}>;
    exercise: Array<{date: Date, type: string, duration: number}>;
  };
  sleep: {
    duration: Array<{date: Date, hours: number}>;
    quality: Array<{date: Date, score: number}>;
  };
}
```

### 2.2 복약 관리 (핵심 기능)
```typescript
경로: /health/medicine

기능:
1. 약 등록
   - 약 이름 (사진 찍어서 AI 인식)
   - 복용 시간 (아침, 점심, 저녁, 자기 전)
   - 복용량 (몇 알)
   - 복용 기간 (시작일, 종료일)

2. 복용 알림
   - 시간 되면 푸시 알림
   - "아침약 드실 시간이에요! 💊"
   - 알림 스누즈 (10분 뒤 다시 알림)

3. 복용 기록
   - 먹었으면 체크 ✅
   - 안 먹으면 빨간 표시 ⚠️
   - 가족에게 자동 공유

4. 약 재고 관리
   - "고혈압약이 3일 분 남았어요. 병원 예약할까요?"
   - 약국 배달 연동

5. 약 충돌 체크
   - 여러 병원에서 받은 약들 중복/부작용 체크
   - 약사 상담 연결

UI:
- 큰 체크박스 (터치하기 쉽게)
- 약 사진 표시 (어떤 약인지 헷갈리지 않게)
- 복용 시간별 그룹핑
- 캘린더 뷰 (월별 복용 기록)

데이터 구조:
{
  id: string;
  name: string;
  imageUrl?: string;
  dosage: string; // "1정"
  times: Array<{ hour: number, minute: number }>; // [{9, 0}, {18, 0}]
  startDate: Date;
  endDate?: Date;
  instructions: string; // "식후 30분"
  sideEffects?: string[];

  // 복용 기록
  logs: Array<{
    date: Date;
    time: string;
    taken: boolean;
    takenAt?: Date;
  }>;
}
```

### 2.3 병원 예약 & 동행
```typescript
경로: /health/hospital

기능:
1. 병원 찾기
   - 증상으로 검색: "무릎이 아파요" → 정형외과 추천
   - 진료과목으로 검색
   - 위치 기반 (집에서 가까운 곳)
   - 시니어 친화 병원 인증 마크

2. 예약하기
   - 날짜/시간 선택
   - 증상 메모 (의사에게 전달)
   - 보험 정보 입력

3. 병원 동행 서비스 ⭐
   - 혼자 가기 힘들 때
   - 전문 동행자가 함께 방문
   - 진료 내용 기록 + 가족에게 공유
   - 약 수령까지 도움

4. 진료 기록
   - 어느 병원, 무슨 진료, 처방약
   - 다음 예약일
   - 진료비
   - PDF 저장/공유

5. 정기 검진 알림
   - "작년에 건강검진 받으셨어요. 올해도 예약할까요?"

데이터 구조:
{
  appointment: {
    id: string;
    hospitalId: string;
    hospitalName: string;
    department: string; // "정형외과"
    doctorName?: string;
    date: Date;
    time: string;
    symptoms: string;
    needCompanion: boolean; // 동행 필요 여부
    companionId?: string;
  };

  record: {
    id: string;
    appointmentId: string;
    diagnosis: string; // 진단명
    prescription: Array<{name: string, dosage: string}>;
    nextVisit?: Date;
    cost: number;
    notes: string; // 의사 코멘트
  };
}
```

### 2.4 건강 기록 (가족 공유)
```typescript
경로: /health/records

기능:
1. 기록 자동 수집
   - 병원 진료 기록
   - 약 복용 기록
   - 건강 측정 기록 (혈압, 혈당)

2. 타임라인 뷰
   - 시간 순서대로 모든 기록
   - "1월 15일: 정형외과 방문, 무릎 주사"
   - "1월 16일: 혈압 측정 130/85"

3. 가족 공유 ⭐
   - 자녀가 부모님 건강 상태 실시간 확인
   - 중요한 변화 있으면 알림
   - "어머니 혈압이 평소보다 높습니다"

4. 응급 정보 카드
   - 혈액형, 알레르기, 복용 중인 약
   - 비상 연락처
   - QR 코드로 의료진에게 공유

5. PDF 내보내기
   - 다른 병원 방문 시 기록 제출용
```

### 2.5 응급 상황 대응 (SOS)
```typescript
경로: /health/emergency

기능:
1. SOS 버튼 (홈 화면에 고정)
   - 3초 길게 누르면 발동
   - 자동으로 119 연결
   - 동시에 가족에게 위치 공유

2. 낙상 감지
   - 스마트워치 연동
   - 넘어진 것 감지 시 자동 알림
   - 30초 안에 응답 없으면 자동 SOS

3. 무응답 체크
   - 평소 활동 패턴 학습
   - "매일 오전 8시에 앱 사용하는데 오늘은 안 함"
   - 가족에게 확인 요청

4. 응급실 안내
   - 가장 가까운 응급실 위치
   - 길 찾기
   - 구급차 요청

5. 가족 알림
   - 위치 공유 (실시간)
   - 상황 설명
   - 병원 도착 여부
```

---

## 3️⃣ 식(食) - 영양 관리

### 3.1 시니어 맞춤 도시락 주문
```typescript
경로: /food/meal-delivery

특징:
- 저염 (나트륨 낮게)
- 저당 (당뇨 환자용)
- 부드럽게 (씹기 편하게)
- 영양 균형 (단백질, 채소)

메뉴 구성:
- 한식 (된장찌개, 불고기 등)
- 양식 (스테이크, 파스타)
- 일식 (초밥, 우동)
- 죽/미음 (소화 편한 식사)

주문 방식:
1. 단건 주문: 오늘 점심만
2. 정기 구독: 매일 점심 + 저녁 (월 60만원)
3. 일주일 세트: 7일치 한번에

필터:
- 질환별 (당뇨식, 신장병식, 고혈압식)
- 식단 종류 (채식, 일반식, 유동식)
- 칼로리 (400kcal, 600kcal, 800kcal)

데이터 구조:
{
  meal: {
    id: string;
    name: string; // "시니어 한식 도시락 A"
    description: string;
    images: string[];
    nutrition: {
      calories: number;
      protein: number;
      carbs: number;
      fat: number;
      sodium: number;
    };
    tags: string[]; // ["저염", "당뇨식", "부드러움"]
    price: number;
    dietary: string[]; // ["당뇨병", "고혈압"]
  };

  subscription: {
    id: string;
    userId: string;
    mealId: string;
    frequency: 'daily' | 'weekly';
    deliveryTime: string; // "12:00"
    startDate: Date;
    endDate?: Date;
  };
}
```

### 3.2 식단 기록 & 영양 분석
```typescript
경로: /food/nutrition

기능:
1. 식사 기록
   - 사진 찍으면 AI가 음식 인식
   - 먹은 양 입력 (전부, 절반, 조금)
   - 시간 자동 기록

2. 영양 분석
   - 하루 섭취 칼로리
   - 부족한 영양소 표시
   - "단백질이 부족해요. 계란이나 두부 드세요"

3. 주간/월간 리포트
   - 영양 균형 그래프
   - 식습관 개선 제안
   - 가족과 공유

4. 식단 추천
   - 건강 상태 기반 추천
   - "당뇨가 있으시니 통곡물 위주로 드세요"
```

### 3.3 밑반찬 배달
```typescript
경로: /food/banchan

특징:
- 일주일치 한번에
- 냉장 보관 가능
- 재가열만 하면 됨

메뉴:
- 나물 반찬 (시금치, 콩나물)
- 조림 (감자조림, 멸치조림)
- 김치
- 국 (미역국, 된장국)

주문:
- 5찬 세트: 3만원
- 10찬 세트: 5만원
- 맞춤 구성 가능
```

---

## 4️⃣ 주(住) - 생활 환경 관리

### 4.1 청소 서비스
```typescript
경로: /home/cleaning

서비스 종류:
1. 일반 청소 (3시간)
   - 청소, 걸레질, 정리정돈
   - 4만원

2. 대청소 (5시간)
   - 위 + 베란다, 창문, 화장실 집중
   - 7만원

3. 정기 청소 (월 4회)
   - 매주 1회 방문
   - 월 15만원 (회당 3.75만원)

특징:
- 시니어 전문 청소사
- 친절하고 말벗 되어주기
- 청소 후 사진 전송 (가족 확인용)

예약:
- 날짜/시간 선택
- 청소 범위 선택 (방, 거실, 주방, 화장실)
- 요청사항 입력
```

### 4.2 집 수리 & 유지보수
```typescript
경로: /home/repair

서비스:
1. 전기
   - 전구 교체
   - 콘센트 수리
   - 누전 체크

2. 수도
   - 수도꼭지 교체
   - 변기 수리
   - 배수구 뚫기

3. 가구
   - 문 고치기
   - 서랍 수리
   - 가구 조립

4. 기타
   - 벽 페인트
   - 방충망 교체
   - 도배 보수

예약:
- 사진 첨부 (문제 상황)
- 증상 설명
- 방문 희망 시간
- 견적 확인 후 진행
```

### 4.3 안전 점검
```typescript
경로: /home/safety

서비스:
1. 가스 안전 점검
   - 가스 누출 체크
   - 호스 교체
   - 밸브 점검

2. 전기 안전 점검
   - 누전 차단기 확인
   - 콘센트 과열 체크
   - 노후 전선 교체

3. 화재 예방
   - 소화기 배치
   - 화재경보기 설치
   - 비상구 확보

정기 점검:
- 연 2회 무료 점검 (구독 서비스)
- 위험 요소 발견 시 즉시 알림
```

### 4.4 스마트홈 연동 (미래)
```typescript
기능:
1. 조명 자동화
   - 일정 시간 자동 ON/OFF
   - 음성 명령 제어

2. 온도 관리
   - 적정 온도 자동 유지
   - 여름/겨울 프리셋

3. 가스 자동 차단
   - 장시간 사용 시 자동 OFF
   - 외출 시 자동 차단

4. 안전 모니터링
   - 현관문 열림 감지
   - 움직임 감지 (낙상 체크)
```

---

## 5️⃣ 행(行) - 이동 지원

### 5.1 시니어 택시
```typescript
경로: /mobility/taxi

특징:
- 친절한 기사 (시니어 응대 교육)
- 문 앞까지 모시기
- 짐 들어주기
- 느린 속도 운전
- 대화 가능

요금:
- 기본: 일반 택시 + 20%
- 장거리 할인 (30km 이상)

예약:
- 출발지/목적지 입력
- 날짜/시간 선택
- "지금 바로" 옵션
- 왕복 예약 가능

데이터 구조:
{
  ride: {
    id: string;
    userId: string;
    from: { address: string, lat: number, lng: number };
    to: { address: string, lat: number, lng: number };
    scheduledAt: Date;
    driverId?: string;
    status: 'requested' | 'accepted' | 'pickup' | 'ongoing' | 'completed';
    estimatedPrice: number;
    actualPrice?: number;
  };
}
```

### 5.2 병원 셔틀
```typescript
경로: /mobility/hospital-shuttle

서비스:
- 정기 병원 방문 시
- 출발지 → 병원 → 집
- 진료 대기 중 기사 대기
- 약 수령까지 도움

요금:
- 왕복 3만원 (거리 무관)
- 월 정기권: 10만원 (월 4회)

예약:
- 병원 예약과 연동
- 자동으로 픽업 시간 계산
- 진료 끝나면 문자 → 출발
```

### 5.3 산책 동행
```typescript
경로: /mobility/walk-companion

서비스:
- 혼자 나가기 무서울 때
- 전문 동행자와 함께 산책
- 대화하며 걷기
- 안전하게 귀가

요금:
- 1시간: 2만원
- 정기권 (주 3회): 월 20만원

예약:
- 산책 시간 선택
- 코스 선택 (공원, 동네)
- 동행자 선호도 (남/여, 나이대)
```

### 5.4 휠체어 택시
```typescript
경로: /mobility/wheelchair

서비스:
- 휠체어 전용 차량
- 승하차 도움
- 의료 시설 이동 특화

요금:
- 기본 5만원 (30분 기준)
- 추가 10분당 1만원

예약:
- 24시간 전 예약 필수
- 휠체어 사이즈 입력
- 산소호흡기 등 장비 여부
```

---

## 6️⃣ 기타 생활 서비스

### 6.1 이발/미용
```typescript
경로: /life/haircut

옵션:
1. 방문 이발
   - 집에서 이발
   - 기사님이 장비 가지고 방문
   - 2.5만원

2. 매장 이발
   - 단골 이발소 예약
   - 픽업/드롭 서비스 옵션
   - 1.5만원

서비스:
- 일반 이발
- 파마
- 염색
- 면도
```

### 6.2 목욕/케어
```typescript
경로: /life/bathing

서비스:
1. 방문 목욕
   - 전문 요양보호사
   - 안전한 목욕 보조
   - 5만원/회

2. 목욕탕 동행
   - 동네 목욕탕 함께 가기
   - 넘어지지 않게 보조
   - 3만원/회

추가 서비스:
- 손톱/발톱 깎기
- 발 마사지
- 귀 청소
```

### 6.3 복지 신청 대행
```typescript
경로: /welfare/application

서비스:
1. 정부 지원금 찾기
   - 받을 수 있는 혜택 자동 검색
   - "기초연금 신청 가능해요!"

2. 서류 작성 도움
   - 복잡한 신청서 대신 작성
   - 필요 서류 안내

3. 제출 대행
   - 주민센터 방문 대신 대행
   - 결과 알림

신청 가능 항목:
- 기초연금
- 노인장기요양보험
- 장애인 등록
- 교통비 지원
- 난방비 지원
```

### 6.4 법률/행정 지원
```typescript
경로: /support/legal

서비스:
1. 유언장 작성
   - 전문 변호사 상담
   - 공증 대행

2. 상속 준비
   - 재산 정리
   - 가족 협의 중재

3. 사기 예방
   - 의심되는 계약 검토
   - 보이스피싱 신고

4. 행정 서류
   - 주민등록증 재발급
   - 인감증명 발급
   - 각종 증명서 대행
```

---

## 7️⃣ 가족 모니터링 (핵심 차별화)

### 7.1 가족 대시보드
```typescript
경로: /family/dashboard

부모님 현황 한눈에:
┌─────────────────────────────┐
│  어머니 (홍길순, 75세)        │
│  ────────────────────────    │
│  건강 점수: 🟢 85점          │
│  오늘 활동: 정상             │
│  마지막 확인: 2시간 전       │
│                              │
│  최근 활동:                  │
│  • 오전 9시: 아침약 복용 ✅  │
│  • 오전 10시: 산책 30분     │
│  • 오후 2시: 병원 예약 완료  │
│                              │
│  알림:                       │
│  ⚠️ 혈압이 평소보다 높습니다 │
└─────────────────────────────┘

기능:
1. 실시간 활동 모니터링
   - 앱 사용 시간
   - 외출/귀가 시간
   - 약 복용 여부

2. 건강 상태 확인
   - 혈압/혈당 그래프
   - 병원 방문 기록
   - 복용 중인 약 목록

3. 위치 공유
   - 실시간 위치 (동의 시)
   - 안전 구역 설정
   - 구역 이탈 시 알림

4. 긴급 알림
   - SOS 발동 시 즉시 알림
   - 낙상 감지
   - 무응답 상태
```

### 7.2 대리 예약/주문
```typescript
기능:
- 자녀가 부모님 대신 예약
  예: "어머니 병원 예약해드리기"

- 도시락 정기 결제
  예: "매일 점심 배달 구독"

- 택시 예약
  예: "내일 오전 병원 가는 택시 예약"

승인 방식:
- 중요한 결정: 부모님 승인 필요
- 일상적인 것: 자동 진행
```

### 7.3 가족 커뮤니케이션
```typescript
경로: /family/chat

기능:
1. 가족 그룹채팅
   - 부모님 + 자녀들
   - 건강 상태 공유
   - 사진 전송

2. 일정 공유
   - 병원 예약
   - 방문 계획
   - 기념일 알림

3. 케어 일지
   - 누가 무엇을 도왔는지 기록
   - 교대로 케어하기
   - 감사 메시지
```

---

## 8️⃣ 수익 모델

### 8.1 거래 수수료
```
모델: 중개 플랫폼
- 병원 예약: 예약 건당 2,000원 (병원 부담)
- 도시락 주문: 주문액의 15%
- 청소 서비스: 서비스 금액의 20%
- 택시: 요금의 10%
- 이발: 예약 건당 1,000원

예상 수익 (사용자 1만명 기준):
- 월 평균 예약 3건 × 평균 수수료 5,000원 = 15,000원
- 1만명 × 15,000원 = 월 1.5억원
```

### 8.2 구독 서비스
```
시니어 케어 플러스 (월 19,900원)

혜택:
- 모든 예약 수수료 무료
- 건강 상담 무제한
- 가족 모니터링 프리미엄
- 응급 상황 우선 지원
- 월 1회 무료 청소
- 포인트 2배 적립

목표:
- 10% 전환율 (1,000명 구독)
- 월 2,000만원 안정 수익
```

### 8.3 프리미엄 서비스
```
1. 전담 케어매니저 (월 50만원)
   - 1:1 전담 매니저
   - 24시간 상담 가능
   - 모든 예약 대행
   - 월 1회 방문 케어

2. 건강 동행 서비스 (회당 5만원)
   - 병원 동행
   - 진료 내용 기록
   - 약 수령 도움

3. 맞춤 케어 패키지
   - 개인별 건강 상태 맞춤
   - 영양사 상담
   - 운동 코칭
```

---

## 9️⃣ 데이터베이스 구조 (Supabase)

### 핵심 테이블

```sql
-- 1. 사용자
CREATE TABLE users (
  id UUID PRIMARY KEY,
  name VARCHAR(100),
  phone VARCHAR(20) UNIQUE,
  email VARCHAR(255),
  birth_date DATE,
  profile_image_url TEXT,
  role VARCHAR(20), -- 'senior' | 'family' | 'caregiver'
  created_at TIMESTAMP DEFAULT NOW()
);

-- 2. 건강 기록
CREATE TABLE health_records (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  type VARCHAR(50), -- 'blood_pressure' | 'blood_sugar' | 'weight'
  value JSONB, -- {systolic: 120, diastolic: 80}
  measured_at TIMESTAMP,
  created_at TIMESTAMP DEFAULT NOW()
);

-- 3. 약 관리
CREATE TABLE medicines (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  name VARCHAR(255),
  image_url TEXT,
  dosage VARCHAR(100),
  times JSONB, -- [{hour: 9, minute: 0}]
  start_date DATE,
  end_date DATE,
  instructions TEXT,
  created_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE medicine_logs (
  id UUID PRIMARY KEY,
  medicine_id UUID REFERENCES medicines(id),
  scheduled_at TIMESTAMP,
  taken BOOLEAN DEFAULT FALSE,
  taken_at TIMESTAMP,
  created_at TIMESTAMP DEFAULT NOW()
);

-- 4. 병원 예약
CREATE TABLE hospital_appointments (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  hospital_id UUID REFERENCES hospitals(id),
  department VARCHAR(100),
  doctor_name VARCHAR(100),
  appointment_date DATE,
  appointment_time TIME,
  symptoms TEXT,
  need_companion BOOLEAN DEFAULT FALSE,
  companion_id UUID REFERENCES users(id),
  status VARCHAR(50), -- 'scheduled' | 'completed' | 'cancelled'
  created_at TIMESTAMP DEFAULT NOW()
);

-- 5. 서비스 예약 (통합)
CREATE TABLE service_bookings (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  service_type VARCHAR(50), -- 'meal' | 'cleaning' | 'taxi' | 'haircut'
  provider_id UUID REFERENCES service_providers(id),
  service_date DATE,
  service_time TIME,
  details JSONB, -- 서비스별 상세 정보
  price INTEGER,
  status VARCHAR(50),
  created_at TIMESTAMP DEFAULT NOW()
);

-- 6. 가족 연결
CREATE TABLE family_connections (
  id UUID PRIMARY KEY,
  senior_id UUID REFERENCES users(id),
  family_id UUID REFERENCES users(id),
  relationship VARCHAR(50), -- 'son' | 'daughter' | 'spouse'
  permission_level VARCHAR(50), -- 'view' | 'manage'
  created_at TIMESTAMP DEFAULT NOW()
);

-- 7. 포인트
CREATE TABLE points (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  amount INTEGER,
  type VARCHAR(50), -- 'earn' | 'use'
  reason VARCHAR(255),
  created_at TIMESTAMP DEFAULT NOW()
);
```

---

## 🔟 개발 로드맵 (확장 버전)

### Phase 1: 헬스케어 코어 (4주)

**Week 1-2: 건강 모니터링 & 복약**
- [ ] 건강 대시보드 UI
- [ ] 복약 관리 (등록, 알림, 기록)
- [ ] 건강 기록 입력/조회
- [ ] 그래프/차트 시각화

**Week 3-4: 병원 예약 & 가족 연동**
- [ ] 병원 검색/예약
- [ ] 가족 계정 연결
- [ ] 가족 대시보드
- [ ] 실시간 알림

### Phase 2: 식생활 (2주)

**Week 5-6: 도시락 & 영양**
- [ ] 시니어 도시락 주문
- [ ] 식단 기록
- [ ] 영양 분석
- [ ] 밑반찬 배달

### Phase 3: 생활 지원 (2주)

**Week 7-8: 청소 & 수리**
- [ ] 청소 서비스 예약
- [ ] 집 수리 요청
- [ ] 서비스 제공자 매칭
- [ ] 리뷰 시스템

### Phase 4: 이동 지원 (2주)

**Week 9-10: 택시 & 동행**
- [ ] 시니어 택시 예약
- [ ] 병원 셔틀
- [ ] 실시간 위치 추적
- [ ] 산책 동행 예약

### Phase 5: 고도화 (4주)

**Week 11-12: AI & 자동화**
- [ ] AI 챗봇 (건강 상담)
- [ ] 음성 인식
- [ ] 예측 케어 (패턴 분석)
- [ ] 자동 알림

**Week 13-14: 완성도 & 런칭**
- [ ] 전체 플로우 테스트
- [ ] 성능 최적화
- [ ] 보안 강화
- [ ] 앱스토어 배포

---

## 1️⃣1️⃣ 성공 지표 (KPI)

### 사용자 지표
- **DAU** (일일 활성 사용자): 목표 1,000명
- **복약 준수율**: 80% 이상
- **가족 연동률**: 60% 이상
- **서비스 재이용률**: 70% 이상

### 거래 지표
- **월 평균 예약 건수**: 사용자당 5건
- **객단가**: 평균 5만원
- **구독 전환율**: 10%
- **NPS** (추천 의향): 60점 이상

### 건강 지표
- **약 복용 기록률**: 매일 85% 이상
- **건강 측정 빈도**: 주 3회 이상
- **병원 예약 노쇼율**: 5% 이하
- **응급 대응 시간**: 평균 5분 이내

---

## 1️⃣2️⃣ 차별화 포인트 정리

### 1. 헬스케어 중심
- 다른 플랫폼: 편의 서비스 나열
- 우리: **건강이 중심**, 나머지는 지원

### 2. 검증된 파트너
- 다른 플랫폼: 누구나 입점 가능
- 우리: **직접 검증**, 시니어 친화 교육

### 3. 가족 통합 케어
- 다른 플랫폼: 개인용
- 우리: **가족이 함께 사용**, 협업 케어

### 4. 예방 중심
- 다른 플랫폼: 문제 생기면 해결
- 우리: **AI가 미리 감지**, 예방

### 5. 올인원
- 다른 플랫폼: 특정 영역만
- 우리: **의식주 + 의료 + 복지 모두**

---

**작성일**: 2025-01-24
**버전**: 2.0 (헬스케어 중심 확장판)
**다음 단계**: 이 명세서 기반으로 개발 시작
